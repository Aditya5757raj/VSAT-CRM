<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VSAT CRM - Dashboard</title>
    <link rel="stylesheet" href="../css/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</head>

<body>
<!-- Page Transition -->
    <div class="page-transition" id="pageTransition"></div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>
    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar" style="width: 250px; background-color: #f4f4f4; height: 100vh;">
            <div class="sidebar-header" style="padding: 20px; overflow: visible;">
                <div class="logo" style="display: flex; align-items: center; gap: 16px; max-width: 100%;">
                    <!-- Fully Visible Logo Image -->
                    <img src="../assets/logo1.png" alt="VSAT Logo"
                        style="height: 80px; width: 80px; object-fit: contain; border-radius: 8px; background-color: white; padding: 6px; box-shadow: 0 0 8px rgba(0,0,0,0.1); flex-shrink: 0;">

                    <div class="logo-text" style="line-height: 1.2; overflow: hidden;">
                        <h1 style="font-size: 20px; margin: 0; color: #0d47a1;">VSAT CRM</h1>
                        <p style="font-size: 13px; margin: 4px 0 0; color: #444;">Customer Dashboard</p>
                    </div>
                </div>
            </div>

            <!-- Updated Navigation Menu -->
            <nav class="sidebar-nav" style="padding: 0 20px;">
                <div class="nav-section">
                    <p class="nav-title" style="margin: 10px 0; font-weight: bold;">Main Menu</p>
                    <ul class="nav-list" style="list-style: none; padding: 0;">
                        <li>
                            <button class="nav-item active" data-section="overview">
                                <i class="fas fa-th-large"></i> Dashboard
                            </button>
                        </li>
                        <!-- Call Registration with Job History as submenu -->
                        <li class="has-submenu">
                            <button class="nav-item submenu-trigger">
                                <i class="fas fa-phone"></i> Call Registration
                                <i class="fas fa-chevron-down submenu-toggle" style="margin-left: auto;"></i>
                            </button>
                            <ul class="submenu" style="list-style: none; padding-left: 20px;">
                                <li>
                                    <button class="nav-item" data-section="complaint">
                                        <i class="fas fa-file-alt"></i> New Complaint/Job
                                    </button>
                                </li>
                                <!-- âœ… Added Upload by CSV menu item -->
                                <li>
                                    <button class="nav-item" data-section="upload-csv">
                                        <i class="fas fa-upload"></i> Upload by CSV
                                    </button>
                                </li>
                                <li>
                                    <button class="nav-item" data-section="job-history">
                                        <i class="fas fa-history"></i> Job History
                                    </button>
                                </li>
                            </ul>
                        </li>

                <div class="nav-section">
                    <p class="nav-title" style="margin: 10px 0; font-weight: bold;">Reports</p>
                    <ul class="nav-list" style="list-style: none; padding: 0;">
                        <li class="has-submenu">
                            <button class="nav-item submenu-trigger">
                                <i class="fas fa-file-csv"></i> Complaint Reports
                                    <i class="fas fa-chevron-down submenu-toggle" style="margin-left: auto;"></i>
                            </button>
                            <ul class="submenu" style="list-style: none; padding-left: 20px;">
                                <li>
                                    <button class="nav-item" data-section="complaint-report-overview">
                                        <i class="fas fa-calendar-day"></i>Todays
                                    </button>
                                </li>
                                <li>
                                    <button class="nav-item" data-section="complaint-report-filter">
                                        <i class="fas fa-calendar-alt"></i>All
                                    </button>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="nav-section">
                    <p class="nav-title" style="margin: 10px 0; font-weight: bold;">Settings</p>
                    <ul class="nav-list" style="list-style: none; padding: 0;">
                        <li>
                            <button class="nav-item" data-section="preferences">
                                <i class="fas fa-cog"></i> Preferences
                            </button>
                        </li>
                        <li>
                            <button class="nav-item" data-section="user-management">
                                <i class="fas fa-users"></i> User Management
                            </button>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <button class="menu-toggle" id="menuToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h2>Customer Service Portal</h2>
                </div>
                <div class="header-right">
                    <button class="refresh-btn" id="headerRefreshBtn" title="Refresh Dashboard">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search customers, jobs...">
                    </div>
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                    </button>
                    <div class="user-profile">
                        <div class="user-avatar" id="userAvatar" onclick="toggleUserDropdown()">JD</div>
                        <div class="user-info">
                            <div class="user-name" id="userName">Loading...</div>
                            <div class="user-role" id="userRole">Loading...</div>
                        </div>


                        <!-- User Dropdown Menu -->
                        <div class="user-dropdown" id="userDropdown">
                            <div class="dropdown-item" id="changePasswordBtn">
                                <i class="fas fa-key"></i>
                                <span>Change Password</span>
                            </div>
                            <div class="dropdown-item" id="logoutBtn">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Logout</span>
                            </div>
                        </div>

                    </div>
                </div>
            </header>

            <!-- Content Area -->
            <main class="content">
                <!-- Dashboard Overview -->
                <div id="overview" class="section active">
                    <div class="section-header">
                        <h3>Dashboard Overview</h3>
                        <p>Welcome back! Here's what's happening with your service requests.</p>
                    </div>

                    <!-- Stats Grid -->
                    <div class="stats-grid">
                        <div class="stat-card clickable-counter" data-counter="customers">
                            <div class="stat-content">
                                <div>
                                    <div class="stat-label">Total Customers</div>
                                    <div class="stat-value" id="totalCustomers">1,234</div>
                                </div>
                                <div class="stat-icon blue">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card clickable-counter" data-counter="active">
                            <div class="stat-content">
                                <div>
                                    <div class="stat-label">Active Jobs</div>
                                    <div class="stat-value" id="activeJobs">89</div>
                                </div>
                                <div class="stat-icon orange">
                                    <i class="fas fa-cog"></i>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card clickable-counter" data-counter="completed">
                            <div class="stat-content">
                                <div>
                                    <div class="stat-label">Completed Jobs</div>
                                    <div class="stat-value" id="completedJobs">567</div>
                                </div>
                                <div class="stat-icon green">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card clickable-counter" data-counter="pending">
                            <div class="stat-content">
                                <div>
                                    <div class="stat-label">Pending Jobs</div>
                                    <div class="stat-value" id="pendingJobs">23</div>
                                </div>
                                <div class="stat-icon yellow">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Counter Details Container -->
                    <div id="counterDetails" style="display: none;"></div>



                    <!-- Dashboard Grid -->
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-header">
                                <h4><i class="fas fa-chart-line"></i> Recent Activity</h4>
                                <p>Latest system activities</p>
                            </div>
                            <div class="card-content">
                                <div class="activity-list">
                                    <div class="activity-item">
                                        <div class="activity-dot green"></div>
                                        <div class="activity-content">
                                            <div class="activity-title">New complaint registered</div>
                                            <div class="activity-subtitle">Customer: John Doe</div>
                                        </div>
                                        <div class="activity-time">2 min ago</div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-dot blue"></div>
                                        <div class="activity-content">
                                            <div class="activity-title">Engineer assigned</div>
                                            <div class="activity-subtitle">Job ID: IN170625000001</div>
                                        </div>
                                        <div class="activity-time">5 min ago</div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-dot orange"></div>
                                        <div class="activity-content">
                                            <div class="activity-title">Job completed</div>
                                            <div class="activity-subtitle">Customer: Jane Smith</div>
                                        </div>
                                        <div class="activity-time">10 min ago</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Updated Quick Actions -->
                        <div class="card">
                            <div class="card-header">
                                <h4>Quick Actions</h4>
                            </div>
                            <div class="card-content">
                                <div class="quick-actions">
                                    <button class="quick-action-btn" data-action="register-complaint">
                                        <i class="fas fa-phone"></i>
                                        <p>Register Complaint</p>
                                    </button>
                                    <button class="quick-action-btn" data-action="view-jobs">
                                        <i class="fas fa-history"></i>
                                        <p>View Job History</p>
                                    </button>
                                    <button class="quick-action-btn" data-action="view-service-centers">
                                        <i class="fas fa-building"></i>
                                        <p>Service Centers</p>
                                    </button>
                                    <button class="quick-action-btn" data-action="add-engineer">
                                        <i class="fas fa-users-cog"></i>
                                        <p>Manage Engineers</p>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Complaint/Job Sheet Section with Product Storage -->
                <div id="complaint" class="section">
                    <div class="section-header">
                        <h3>New Complaint / Job Registration</h3>
                        <p>Register a new service request and automatically save product details</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h4><i class="fas fa-phone"></i> Complaint / Job Sheet</h4>
                        </div>
                        <div class="card-content">
                            <form id="callForm">
                                <!-- Call Type -->
                                <div class="form-section">
                                    <label class="section-label">Call Type*</label>
                                    <div class="radio-group">
                                        <label class="radio-label">
                                            <input type="radio" name="callType" value="installation" />
                                            <span>Installation</span>
                                        </label>
                                        <label class="radio-label">
                                            <input type="radio" name="callType" value="reinstallation" />
                                            <span>Reinstallation</span>
                                        </label>
                                        <label class="radio-label">
                                            <input type="radio" name="callType" value="demo" />
                                            <span>Demo</span>
                                        </label>
                                        <label class="radio-label">
                                            <input type="radio" name="callType" value="repairs" />
                                            <span>Repairs</span>
                                        </label>
                                    </div>
                                    <div id="callType" class="error-message"></div>
                                </div>

                                <!-- Request Information Section -->
                                <div class="form-section">
                                    <h5
                                        style="color: #1e293b; margin-bottom: 16px; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px;">
                                        <i class="fas fa-info-circle"></i> Request Information
                                    </h5>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="rootRequestId">Root Request ID*</label>
                                            <input type="text" id="rootRequestId" placeholder="Enter root request ID"
                                                required />
                                            <div id="rootRequestIdError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="customerRequestId">Customer Request ID*</label>
                                            <input type="text" id="customerRequestId"
                                                placeholder="Enter customer request ID" required />
                                            <div id="customerRequestIdError" class="error-message"></div>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="ecommerceId">E-commerce ID*</label>
                                            <input type="text" id="ecommerceId" placeholder="Enter e-commerce ID"
                                                required />
                                            <div id="ecommerceIdError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="estimatedDelivery">Estimated Product Delivery Date*</label>
                                            <input type="date" id="estimatedDelivery" placeholder="dd-mm-yyyy"
                                                required />
                                            <div id="estimatedDeliveryError" class="error-message"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Customer Information Section -->
                                <div class="form-section">
                                    <h5
                                        style="color: #1e293b; margin-bottom: 16px; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px;">
                                        <i class="fas fa-user"></i> Customer Information
                                    </h5>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="fullName">Full Name*</label>
                                            <input type="text" id="fullName" placeholder="Enter full name" required />
                                            <div id="fullName" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="mobile">Mobile Number*</label>
                                            <input type="text" id="mobile" placeholder="10-digit number" required />
                                            <div id="mobile" class="error-message"></div>
                                        </div>
                                    </div>

                                    <!-- Address Information -->
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="houseNo">House/Flat No*</label>
                                            <input type="text" id="houseNo" placeholder="Enter house/flat number"
                                                required />
                                            <div id="houseNo" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="street">Street, Area, Sector*</label>
                                            <input type="text" id="street" placeholder="Enter street name" required />
                                            <div id="streetError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="landmark">Landmark</label>
                                            <input type="text" id="landmark" placeholder="E.g., near apollo hospital" />
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="pin">Pin Code*</label>
                                            <input type="text" id="pin" placeholder="6-digit pincode" required
                                                maxlength="6" />
                                            <div id="pinError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="locality">Locality*</label>
                                            <select id="locality" required>
                                                <option value="">-- Select locality --</option>
                                            </select>
                                            <div id="localityError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="city">City*</label>
                                            <input type="text" id="city" placeholder="City" readonly />
                                            <div id="cityError" class="error-message"></div>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="stateVisible">State*</label>
                                            <input type="text" id="stateVisible"
                                                placeholder="State will appear here automatically by Pincode" readonly
                                                style="background-color: #f1f1f1;" />
                                            <select id="stateSelect" required style="display: none;">
                                                <option value="">-- Select State --</option>
                                                <option value="01">JAMMU AND KASHMIR</option>
                                                <option value="02">HIMACHAL PRADESH</option>
                                                <option value="03">PUNJAB</option>
                                                <option value="04">CHANDIGARH</option>
                                                <option value="05">UTTARAKHAND</option>
                                                <option value="06">HARYANA</option>
                                                <option value="07">DELHI</option>
                                                <option value="08">RAJASTHAN</option>
                                                <option value="09">UTTAR PRADESH</option>
                                                <option value="10">BIHAR</option>
                                                <option value="11">SIKKIM</option>
                                                <option value="12">ARUNACHAL PRADESH</option>
                                                <option value="13">NAGALAND</option>
                                                <option value="14">MANIPUR</option>
                                                <option value="15">MIZORAM</option>
                                                <option value="16">TRIPURA</option>
                                                <option value="17">MEGHALAYA</option>
                                                <option value="18">ASSAM</option>
                                                <option value="19">WEST BENGAL</option>
                                                <option value="20">JHARKHAND</option>
                                                <option value="21">ODISHA</option>
                                                <option value="22">CHATTISGARH</option>
                                                <option value="23">MADHYA PRADESH</option>
                                                <option value="24">GUJARAT</option>
                                                <option value="26">DADRA AND NAGAR HAVELI AND DAMAN AND DIU</option>
                                                <option value="27">MAHARASHTRA</option>
                                                <option value="28">ANDHRA PRADESH</option>
                                                <option value="29">KARNATAKA</option>
                                                <option value="30">GOA</option>
                                                <option value="31">LAKSHADWEEP</option>
                                                <option value="32">KERELA</option>
                                                <option value="33">TAMIL NADU</option>
                                                <option value="34">PUDUCHERRY</option>
                                                <option value="35">ANDAMAN AND NICOBAR ISLANDS</option>
                                                <option value="36">TELANGANA</option>
                                                <option value="37">ANDHRA PRADESH</option>
                                                <option value="38">LADAKH</option>
                                                <option value="97">OTHER TERRITORY</option>
                                                <option value="99">CENTRE JURISDICTION</option>
                                            </select>
                                            <div id="stateSelectError" class="error-message"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Product Information Section -->
                                <div class="form-section">
                                    <h5
                                        style="color: #1e293b; margin-bottom: 16px; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px;">
                                        <i class="fas fa-box"></i> Product Information
                                        <small style="color: #64748b; font-weight: normal;">(This product will be
                                            automatically saved to your account)</small>
                                    </h5>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="productType">Product Type*</label>
                                            <select id="productType" required>
                                                <option value="">-- Select Product Type --</option>
                                                <option value="GATEWAY">GATEWAY</option>
                                                <option value="IR BLASTER">IR BLASTER</option>
                                                <option value="SMART RETROFIT">SMART RETROFIT</option>
                                                <option value="SMART COB">SMART COB</option>
                                                <option value="SMART PANEL">SMART PANEL</option>
                                                <option value="SMART STRIP">SMART STRIP</option>
                                                <option value="SMART CAMERA">SMART CAMERA</option>
                                                <option value="SMART DOORBELL">SMART DOORBELL</option>
                                                <option value="SMART DOOR LOCK">SMART DOOR LOCK</option>
                                            </select>
                                            <div id="productTypeError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="productName">Product Name*</label>
                                            <select id="productName" required>
                                                <option value="">-- Select Product Name --</option>
                                            </select>
                                            <div id="productNameError" class="error-message"></div>
                                        </div>
                                        <!-- <div class="form-group">
                                            <label for="symptoms">Symptoms*</label>
                                            <select id="symptoms" required>
                                                <option value="">-- Select Symptoms --</option>
                                                <option value="Engineer visit for Installation">Installation Request
                                                </option>
                                                <option value="Repair">Repair Request</option>
                                            </select>
                                            <div id="symptomsError" class="error-message"></div>
                                        </div> -->
                                        <!-- <div class="form-group">
                                            <label for="modelNo">Model No.*</label>
                                            <input type="text" id="modelNo" placeholder="Enter model number" required />
                                            <div id="modelNoError" class="error-message"></div>
                                        </div> -->
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="manufacturer">Brand*</label>
                                            <input type="text" id="manufacturer" placeholder="E.g., Samsung, LG, Apple"
                                                required />
                                            <div id="manufacturerError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="modelNo">Model No.*</label>
                                            <input type="text" id="modelNo" placeholder="Enter model number" required />
                                            <div id="modelNoError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="serial">Serial Number</label>
                                            <input type="text" id="serial" placeholder="E.g., AB123456789" />
                                            <div id="serialError" class="error-message"></div>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="purchaseDate">Date of Purchase*</label>
                                            <input type="date" id="purchaseDate" required />
                                            <div id="purchaseDateError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="warrantyExpiry">Warranty*</label>
                                            <select id="warrantyExpiry" required>
                                                <option value="">-- Select Warranty Status --</option>
                                                <option value="in_warranty">In Warranty</option>
                                                <option value="out_of_warranty">Out of Warranty</option>
                                                <option value="unknown">Warranty Void</option>
                                            </select>
                                            <div id="warrantyExpiryError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="symptoms">Symptoms*</label>
                                            <select id="symptoms" required>
                                                <option value="">-- Select Symptoms --</option>
                                                <option value="Engineer visit for Installation">Installation Request
                                                </option>
                                                <option value="Repair">Repair Request</option>
                                            </select>
                                            <div id="symptomsError" class="error-message"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Service Information Section -->
                                <div class="form-section">
                                    <h5
                                        style="color: #1e293b; margin-bottom: 16px; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px;">
                                        <i class="fas fa-calendar"></i> Service Information
                                    </h5>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="availableDate">Customer Available Date*</label>
                                            <input type="date" id="availableDate" required />
                                            <div id="availableDateError" class="error-message"></div>
                                        </div>
                                        <div class="form-group">
                                            <label for="preferredTime">Preferred Time Slot*</label>
                                            <select id="preferredTime" required>
                                                <option value="">-- Select time slot --</option>
                                                <option value="10am-1pm">10 AM â€“ 1 PM</option>
                                                <option value="2pm-4pm">2 PM â€“ 4 PM</option>
                                                <option value="4pm-7pm">4 PM â€“ 7 PM</option>
                                            </select>
                                            <div id="preferredTimeError" class="error-message"></div>
                                        </div>
                                    </div>

                                    <!-- Optional Comments -->
                                    <div class="form-group">
                                        <label for="comments">Additional Comments</label>
                                        <textarea id="comments" rows="3"
                                            placeholder="Any additional information or special instructions..."></textarea>
                                    </div>
                                    <div class="form-section">
                                        <label class="section-label" for="servicePartner">Assign Service
                                            Partner*</label>
                                        <input type="text" id="servicePartner" name="servicePartner" class="form-input"
                                            readonly
                                            placeholder="Automatically assigned by pincode-service partner mapping" />
                                        <div id="servicePartnerError" class="error-message"></div>
                                    </div>

                                    <!-- Call Priority -->
                                    <div class="form-section">
                                        <label class="section-label">Call Priority*</label>
                                        <div class="radio-group">
                                            <label class="radio-label">
                                                <input type="radio" name="priority" value="Normal" />
                                                <span>Normal</span>
                                            </label>
                                            <label class="radio-label urgent">
                                                <input type="radio" name="priority" value="Urgent" />
                                                <span>Urgent</span>
                                            </label>
                                        </div>
                                        <div id="priority" class="error-message"></div>
                                    </div>
                                </div>

                                <!-- Submit Button -->
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-phone"></i> Register Call & Save Product
                                    </button>
                                    <button type="button" class="btn btn-outline" id="resetBtn">
                                        <i class="fas fa-undo"></i> Reset Form
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- Upload Complaints by CSV Section -->
                <div id="upload-csv" class="section" style="display: none;">
                    <div class="section-header">
                        <h3>Upload Complaints by CSV</h3>
                        <p>Bulk upload new complaints/jobs using a CSV file</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h4><i class="fas fa-upload"></i> CSV Upload</h4>
                        </div>

                        <div class="card-content">
                            <form id="csvUploadForm">
                                <!-- Download Template -->
                                <div class="form-section" style="margin-bottom: 24px;">
                                    <label class="section-label"><i class="fas fa-download"></i> Download
                                        Template</label>
                                    <p>Download the CSV template with all required fields and sample data.</p>
                                    <button type="button" class="btn btn-outline-primary" onclick="downloadTemplate()">
                                        <i class="fas fa-file-download"></i> Download CSV Template
                                    </button>
                                </div>

                                <!-- Upload CSV File -->
                                <div class="form-section" style="margin-bottom: 24px;">
                                    <label class="section-label"><i class="fas fa-file-upload"></i> Upload CSV
                                        File</label>
                                    <div id="csv-dropzone" style="
                        border: 2px dashed #cbd5e1;
                        padding: 40px;
                        text-align: center;
                        border-radius: 8px;
                        background-color: #f8fafc;
                        cursor: pointer;">
                                        <i class="fas fa-file-csv" style="font-size: 48px; color: #64748b;"></i>
                                        <p>Drag and drop your CSV file here or click to browse</p>
                                        <input type="file" id="csvFileInput" accept=".csv" style="display: none;" />
                                        <button type="button" class="btn btn-primary"
                                            onclick="document.getElementById('csvFileInput').click();">
                                            <i class="fas fa-folder-open"></i> Browse Files
                                        </button>
                                    </div>
                                    <div id="csvFileName" style="margin-top: 10px; color: #334155;"></div>
                                </div>

                                <!-- Submit Button -->
                                <div class="form-section">
                                    <button type="button" class="btn btn-success" onclick="submitCSVFile()">
                                        <i class="fas fa-paper-plane"></i> Submit CSV
                                    </button>
                                </div>
                            </form>

                            <!-- CSV Preview Table -->
                            <!-- <div id="csvPreviewContainer" style="margin-top: 24px; display: none;">
                                <h5 style="color: #1e293b;">ðŸ“‹ Parsed CSV Preview</h5>
                                <div style="overflow-x: auto;">
                                    <table id="csvPreviewTable" class="table table-bordered"
                                        style="width: 100%; border-collapse: collapse; font-size: 14px;"> -->
                            <!-- Rows dynamically generated via JS -->
                            <!-- </table>
                                </div>
                            </div> -->
                            <!-- CSV Preview Table -->
                            <div id="csvPreviewContainer" style="margin-top: 24px; display: none;">
                                <h5 style="color: #1e293b; font-size: 18px; font-weight: 600; margin-bottom: 12px;">
                                    ðŸ“‹ Parsed CSV Preview
                                </h5>
                                <div style="overflow-x: auto; border: 1px solid #e2e8f0; border-radius: 8px;">
                                    <table id="csvPreviewTable" class="table table-bordered" style="
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            min-width: 1000px;
        ">
                                        <!-- Rows dynamically generated via JS -->
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Job History Section -->
                <div id="job-history" class="section">
                    <div class="section-header">
                        <div>
                            <h3>Job History</h3>
                            <p>Search and track all service requests by customer details</p>
                        </div>
                        <button class="btn btn-primary" id="createNewJobBtn">Create New Job</button>
                    </div>

                    <!-- Customer Search Card -->
                    <div class="card" style="margin-bottom: 24px;">
                        <div class="card-header">
                            <h4><i class="fas fa-search"></i> Search Customer Jobs</h4>
                        </div>
                        <div class="card-content">
                            <form id="customerSearchForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="searchCustomerName">Customer Name*</label>
                                        <input type="text" id="searchCustomerName"
                                            placeholder="Enter customer full name" required />
                                        <div id="searchCustomerNameError" class="error-message"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="searchMobile">Mobile Number*</label>
                                        <input type="text" id="searchMobile" placeholder="10-digit mobile number"
                                            required />
                                        <div id="searchMobileError" class="error-message"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="searchPincode">Pin Code*</label>
                                        <input type="text" id="searchPincode" placeholder="6-digit pincode" required />
                                        <div id="searchPincodeError" class="error-message"></div>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-search"></i> Search Jobs
                                    </button>
                                    <button type="button" class="btn btn-outline" id="clearSearchBtn">
                                        <i class="fas fa-times"></i> Clear Search
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Jobs Results Card -->
                    <div class="card" style="display: none;" id="jobsResultCard">
                        <div class="card-header">
                            <div class="table-header">
                                <h4>Service Jobs</h4>
                                <div class="search-box">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="jobTableSearch" placeholder="Search in results...">
                                </div>
                            </div>
                        </div>
                        <div class="card-content">
                            <!-- Loading indicator -->
                            <div id="loadingIndicator" style="display: none; text-align: center; padding: 20px;">
                                <i class="fas fa-spinner fa-spin" style="font-size: 24px; color: #2563eb;"></i>
                                <p style="margin-top: 10px; color: #64748b;">Searching for customer jobs...</p>
                            </div>

                            <!-- No results message -->
                            <div id="noResultsMessage" style="display: none; text-align: center; padding: 40px;">
                                <i class="fas fa-search"
                                    style="font-size: 48px; color: #cbd5e1; margin-bottom: 16px;"></i>
                                <h4 style="color: #64748b; margin-bottom: 8px;">No Jobs Found</h4>
                                <p style="color: #9ca3af;">Enter customer details above to search for their service
                                    history.</p>
                            </div>

                            <!-- Jobs table -->
                            <div class="table-container" id="jobsTableContainer">
                                <table class="jobs-table" id="jobsTable">
                                    <thead>
                                        <tr>
                                            <th>Job ID</th>
                                            <th>Customer Details</th>
                                            <th>Service Type</th>
                                            <th>Status</th>
                                            <th>Priority</th>
                                            <th>Technician</th>
                                            <th>Created Date</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="jobsTableBody">
                                        <!-- Dynamic content will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>


                

                <!-- NEW: Current Assignment Section (Engineer Dashboard) -->
                <div id="current-assignment" class="section">
                    <div class="section-header">
                        <div>
                            <h3>Current Assignment</h3>
                            <p>Your currently assigned service job</p>
                        </div>
                        <div style="display: flex; gap: 12px;">
                            <button class="btn btn-outline" id="refreshAssignmentBtn">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                            <button class="btn btn-primary" id="markCompleteBtn">
                                <i class="fas fa-check"></i> Mark as Complete
                            </button>
                        </div>
                    </div>

                    <!-- Job Status Overview -->
                    <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr); margin-bottom: 24px;">
                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-text">
                                    <p class="stat-label">Job Status</p>
                                    <p class="stat-value" style="font-size: 18px; color: #2563eb;">In Progress</p>
                                </div>
                                <div class="stat-icon blue">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-text">
                                    <p class="stat-label">Progress</p>
                                    <p class="stat-value" style="font-size: 18px; color: #f59e0b;">60%</p>
                                </div>
                                <div class="stat-icon orange">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-text">
                                    <p class="stat-label">Service Type</p>
                                    <p class="stat-value" style="font-size: 18px; color: #16a34a;">Installation</p>
                                </div>
                                <div class="stat-icon green">
                                    <i class="fas fa-tools"></i>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-text">
                                    <p class="stat-label">Job ID</p>
                                    <p class="stat-value" style="font-size: 18px; color: #7c3aed;">#1001</p>
                                </div>
                                <div class="stat-icon" style="background-color: #f3e8ff; color: #7c3aed;">
                                    <i class="fas fa-hashtag"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Job Details Card -->
                    <div class="card">
                        <div class="card-header">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <h4>Job #1001 <span class="badge badge-primary">In Progress</span></h4>
                                </div>
                                <div style="display: flex; gap: 8px;">
                                    <button class="btn btn-outline" id="viewDetailsBtn">View Details</button>
                                    <button class="btn btn-primary" id="updateStatusBtn">Update Status</button>
                                </div>
                            </div>
                        </div>
                        <div class="card-content">
                            <!-- Job Progress -->
                            <div class="job-progress-section">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                    <span style="font-weight: 500;">Job Progress</span>
                                    <span style="font-weight: 500; color: #2563eb;">60%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 60%;"></div>
                                </div>
                            </div>

                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                                <!-- Customer Information -->
                                <div>
                                    <h5 style="margin-bottom: 12px; color: #1e293b;">CUSTOMER INFORMATION</h5>
                                    <div class="info-card">
                                        <p><strong>Rajesh Kumar</strong></p>
                                        <p><i class="fas fa-phone"></i> +91 98765 43210</p>
                                        <p><i class="fas fa-map-marker-alt"></i> 123, Sector 15, Gurgaon, Haryana -
                                            122001</p>
                                    </div>

                                    <h5 style="margin: 16px 0 12px; color: #1e293b;">PROBLEM DESCRIPTION</h5>
                                    <div class="info-card">
                                        <p>Customer reports that the VSAT connection is intermittent. Signal strength
                                            appears to be weak during peak hours. Need to check dish alignment and cable
                                            connections.</p>
                                    </div>
                                </div>

                                <!-- Job Details -->
                                <div>
                                    <h5 style="margin-bottom: 12px; color: #1e293b;">JOB DETAILS</h5>
                                    <div class="info-card">
                                        <p><strong>Service Type:</strong> Installation</p>
                                        <p><strong>Scheduled:</strong> 12/06/2025</p>
                                        <p><strong>Time Slot:</strong> 10:00 AM - 1:00 PM</p>
                                    </div>

                                    <h5 style="margin: 16px 0 12px; color: #1e293b;">PRODUCT INFORMATION</h5>
                                    <div class="info-card">
                                        <p><strong>Product:</strong> VSAT Terminal</p>
                                        <p><strong>Model:</strong> VS-2000X</p>
                                        <p><strong>Serial:</strong> VST1001ABC</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NEW: Update Status Section -->
                <div id="update-status" class="section">
                    <div class="section-header">
                        <h3>Update Job Status</h3>
                        <p>Update the status and progress of your assigned jobs</p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                        <!-- Select Job Card -->
                        <div class="card">
                            <div class="card-header">
                                <h4>Select Job</h4>
                                <p>Choose a job to update its status</p>
                            </div>
                            <div class="card-content">
                                <div class="form-group">
                                    <label for="jobSelect">Select a job</label>
                                    <select id="jobSelect">
                                        <option value="">Select a job</option>
                                        <option value="1001">Job #1001 - Rajesh Kumar</option>
                                        <option value="1002">Job #1002 - Priya Sharma</option>
                                        <option value="1003">Job #1003 - Amit Singh</option>
                                    </select>
                                </div>

                                <!-- Job Details Display -->
                                <div id="selectedJobDetails" style="display: none; margin-top: 16px;">
                                    <div class="job-card">
                                        <div class="job-header">
                                            <h5>Job #1001</h5>
                                            <span class="badge badge-primary">In Progress</span>
                                        </div>
                                        <div class="job-info">
                                            <p><strong>Customer:</strong> Rajesh Kumar</p>
                                            <p><strong>Phone:</strong> +91 98765 43210</p>
                                            <p><strong>Location:</strong> 123, Sector 15, Gurgaon, Haryana - 122001</p>
                                            <p><strong>Scheduled:</strong> 12/06/2025</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Update Job Status Card -->
                        <div class="card">
                            <div class="card-header">
                                <h4>Update Job Status</h4>
                                <p>Provide details about the job progress and any issues encountered</p>
                            </div>
                            <div class="card-content">
                                <form id="updateJobStatusForm">
                                    <!-- Job Status -->
                                    <div class="form-section">
                                        <label class="section-label">Job Status</label>
                                        <div class="radio-group">
                                            <label class="radio-label">
                                                <input type="radio" name="jobStatus" value="Pending" />
                                                <span>Pending</span>
                                            </label>
                                            <label class="radio-label">
                                                <input type="radio" name="jobStatus" value="In Progress" checked />
                                                <span>In Progress</span>
                                            </label>
                                            <label class="radio-label">
                                                <input type="radio" name="jobStatus" value="On Hold" />
                                                <span>On Hold</span>
                                            </label>
                                            <label class="radio-label">
                                                <input type="radio" name="jobStatus" value="Completed" />
                                                <span>Completed</span>
                                            </label>
                                        </div>
                                    </div>

                                    <!-- Progress Details -->
                                    <div class="form-section">
                                        <label class="section-label">Progress Details</label>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label for="completionPercentage">Completion Percentage</label>
                                                <select id="completionPercentage">
                                                    <option value="">Select completion %</option>
                                                    <option value="10">10%</option>
                                                    <option value="25">25%</option>
                                                    <option value="50">50%</option>
                                                    <option value="75">75%</option>
                                                    <option value="100">100%</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="timeSpent">Time Spent (Hours)</label>
                                                <input type="number" id="timeSpent" placeholder="Enter hours" min="0"
                                                    step="0.5" />
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Work Completed -->
                                    <div class="form-group">
                                        <label for="workCompleted">Work Completed</label>
                                        <textarea id="workCompleted" rows="3"
                                            placeholder="Describe the work completed so far..."></textarea>
                                    </div>

                                    <!-- Issues Encountered -->
                                    <div class="form-group">
                                        <label for="issuesEncountered">Issues Encountered</label>
                                        <textarea id="issuesEncountered" rows="3"
                                            placeholder="Describe any issues or challenges faced..."></textarea>
                                    </div>

                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save"></i> Update Status
                                        </button>
                                        <button type="button" class="btn btn-outline">
                                            <i class="fas fa-times"></i> Cancel
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NEW: Request Parts Section -->
                <div id="request-parts" class="section">
                    <div class="section-header">
                        <div>
                            <h3>Request Parts</h3>
                            <p>Request new parts and track existing requests</p>
                        </div>
                        <button class="btn btn-primary" id="newRequestBtn">
                            <i class="fas fa-plus"></i> New Request
                        </button>
                    </div>

                    <!-- Parts Request Tabs -->
                    <div class="parts-tabs">
                        <button class="tab-btn active" data-tab="new-request">New Request</button>
                        <button class="tab-btn" data-tab="pending-requests">Pending Requests</button>
                        <button class="tab-btn" data-tab="request-history">Request History</button>
                    </div>

                    <!-- New Request Tab -->
                    <div id="new-request" class="tab-content active">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                            <!-- Job Information -->
                            <div class="card">
                                <div class="card-header">
                                    <h4>Job Information</h4>
                                    <p>Select the job for which parts are needed</p>
                                </div>
                                <div class="card-content">
                                    <div class="form-group">
                                        <label for="partsJobSelect">Select Job</label>
                                        <select id="partsJobSelect">
                                            <option value="">Choose a job</option>
                                            <option value="1001">Job #1001 - Rajesh Kumar</option>
                                            <option value="1002">Job #1002 - Priya Sharma</option>
                                        </select>
                                    </div>

                                    <!-- Job Details Display -->
                                    <div id="partsJobDetails" style="display: none; margin-top: 16px;">
                                        <div class="job-card">
                                            <div class="job-header">
                                                <h5>Job #1001</h5>
                                                <span class="badge badge-primary">In Progress</span>
                                            </div>
                                            <div class="job-info">
                                                <p><strong>Customer:</strong> Rajesh Kumar</p>
                                                <p><strong>Service Type:</strong> Installation</p>
                                                <p><strong>Location:</strong> Gurgaon, Haryana</p>
                                                <p><strong>Product:</strong> VSAT Terminal VS-2000X</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Request Parts -->
                            <div class="card">
                                <div class="card-header">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <h4>Request Parts</h4>
                                            <p>Add parts needed for the selected job</p>
                                        </div>
                                        <button class="btn btn-outline" id="addPartBtn">
                                            <i class="fas fa-plus"></i> Add Part
                                        </button>
                                    </div>
                                </div>
                                <div class="card-content">
                                    <!-- Required Parts Table -->
                                    <div class="form-section">
                                        <label class="section-label">Required Parts</label>
                                        <div class="parts-table-container">
                                            <table class="parts-table" id="partsTable">
                                                <thead>
                                                    <tr>
                                                        <th>Part Name</th>
                                                        <th>Part Number</th>
                                                        <th>Quantity</th>
                                                        <th>Priority</th>
                                                        <th>Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="partsTableBody">
                                                    <tr>
                                                        <td>LNB Cable</td>
                                                        <td>LNB-001</td>
                                                        <td>2</td>
                                                        <td><span class="badge badge-success">Normal</span></td>
                                                        <td>
                                                            <button class="action-btn" onclick="removePart(this)">
                                                                <i class="fas fa-trash"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Satellite Dish</td>
                                                        <td>DISH-75CM</td>
                                                        <td>1</td>
                                                        <td><span class="badge badge-danger">High</span></td>
                                                        <td>
                                                            <button class="action-btn" onclick="removePart(this)">
                                                                <i class="fas fa-trash"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <!-- Request Details -->
                                    <div class="form-section">
                                        <label class="section-label">Request Details</label>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label for="requestUrgency">Request Urgency</label>
                                                <select id="requestUrgency">
                                                    <option value="">Select urgency</option>
                                                    <option value="Low">Low</option>
                                                    <option value="Normal">Normal</option>
                                                    <option value="High">High</option>
                                                    <option value="Urgent">Urgent</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="deliveryLocation">Delivery Location</label>
                                                <select id="deliveryLocation">
                                                    <option value="">Select location</option>
                                                    <option value="Job Site">Job Site</option>
                                                    <option value="Service Center">Service Center</option>
                                                    <option value="Engineer Location">Engineer Location</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Reason for Request -->
                                    <div class="form-group">
                                        <label for="requestReason">Reason for Request</label>
                                        <textarea id="requestReason" rows="3"
                                            placeholder="Explain why these parts are needed..."></textarea>
                                    </div>

                                    <div class="form-actions">
                                        <button type="button" class="btn btn-primary" id="submitPartsRequestBtn">
                                            <i class="fas fa-paper-plane"></i> Submit Request
                                        </button>
                                        <button type="button" class="btn btn-outline">
                                            <i class="fas fa-times"></i> Cancel
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Requests Tab -->
                    <div id="pending-requests" class="tab-content">
                        <div class="card">
                            <div class="card-header">
                                <h4>Pending Parts Requests</h4>
                                <p>Track the status of your pending parts requests</p>
                            </div>
                            <div class="card-content">
                                <p style="text-align: center; color: #64748b; padding: 40px;">
                                    <i class="fas fa-clock"
                                        style="font-size: 48px; margin-bottom: 16px; display: block;"></i>
                                    No pending parts requests found.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Request History Tab -->
                    <div id="request-history" class="tab-content">
                        <div class="card">
                            <div class="card-header">
                                <h4>Parts Request History</h4>
                                <p>View all your previous parts requests</p>
                            </div>
                            <div class="card-content">
                                <p style="text-align: center; color: #64748b; padding: 40px;">
                                    <i class="fas fa-history"
                                        style="font-size: 48px; margin-bottom: 16px; display: block;"></i>
                                    No request history available.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Delivery Challan Section -->
                <div id="delivery-challan" class="section">
                    <div class="section-header">
                        <div>
                            <h3>Delivery Challan</h3>
                            <p>Generate delivery challan for service jobs</p>
                        </div>
                    </div>

                    <div class="form-card">
                        <div class="card-header">
                            <h4><i class="fas fa-file-invoice"></i> Generate Delivery Challan</h4>
                            <p>Create a delivery document with job details, engineer assignment, and goods information
                            </p>
                        </div>
                        <div class="card-content">
                            <form id="deliveryChallanForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <h5 style="margin-bottom: 16px; color: #374151;">Job Information</h5>
                                        <label for="challanComplaintNumber">Complaint Number*</label>
                                        <input type="text" id="challanComplaintNumber" name="complaintNumber"
                                            placeholder="Enter complaint number" required>
                                        <div class="error-message" id="challanComplaintNumberError"></div>
                                    </div>
                                    <div class="form-group">
                                        <h5 style="margin-bottom: 16px; color: #374151;">Charges & Goods</h5>
                                        <label for="serviceCharges">Service Charges*</label>
                                        <input type="number" id="serviceCharges" name="serviceCharges"
                                            placeholder="Enter service charges" min="0" step="0.01" required>
                                        <div class="error-message" id="serviceChargesError"></div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="assignedEngineer">Assigned Engineer*</label>
                                        <select id="assignedEngineer" name="assignedEngineer" required>
                                            <option value="">-- Select Engineer --</option>
                                            <option value="Amit Kumar">Amit Kumar</option>
                                            <option value="Rajesh Singh">Rajesh Singh</option>
                                            <option value="Priya Sharma">Priya Sharma</option>
                                            <option value="Vikash Gupta">Vikash Gupta</option>
                                        </select>
                                        <div class="error-message" id="assignedEngineerError"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="quantityRequired">Quantity Required*</label>
                                        <input type="number" id="quantityRequired" name="quantityRequired"
                                            placeholder="Enter quantity" min="1" required>
                                        <div class="error-message" id="quantityRequiredError"></div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="goodsDescription">Description of Goods*</label>
                                    <textarea id="goodsDescription" name="goodsDescription" rows="4"
                                        placeholder="Describe the goods/parts required to solve the problem..."
                                        required></textarea>
                                    <div class="error-message" id="goodsDescriptionError"></div>
                                </div>

                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-download"></i> Generate Challan Document
                                    </button>
                                    <button type="button" class="btn btn-outline" id="saveChallanDraftBtn">
                                        <i class="fas fa-save"></i> Save as Draft
                                    </button>
                                    <button type="button" class="btn btn-outline" id="resetChallanBtn">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Recent Challans -->
                    <div class="card">
                        <div class="card-header">
                            <h4><i class="fas fa-history"></i> Recent Delivery Challans</h4>
                            <p>View recently generated delivery challans</p>
                        </div>
                        <div class="card-content">
                            <div class="table-container">
                                <table class="jobs-table">
                                    <thead>
                                        <tr>
                                            <th>Challan ID</th>
                                            <th>Complaint Number</th>
                                            <th>Engineer</th>
                                            <th>Service Charges</th>
                                            <th>Quantity</th>
                                            <th>Status</th>
                                            <th>Date</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><span class="job-id">#CH001</span></td>
                                            <td><span class="job-id">#CMP12345</span></td>
                                            <td>Amit Kumar</td>
                                            <td>â‚¹1,500</td>
                                            <td>2</td>
                                            <td><span class="badge badge-success">Generated</span></td>
                                            <td>
                                                <div class="date-cell">
                                                    <i class="fas fa-calendar"></i>
                                                    2024-01-15
                                                </div>
                                            </td>
                                            <td>
                                                <div class="action-buttons">
                                                    <button class="action-btn">
                                                        <i class="fas fa-download"></i>
                                                    </button>
                                                    <button class="action-btn">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Complaint Report Download Section -->
                <div id="complaint-report-overview" class="section">
                    <div class="section-header">
                        <div>
                            <h3>Complaint Reports</h3>
                            <p>Download complaints as CSV for today or all records</p>
                        </div>
                    </div>

                    <div class="form-card">
                        <div class="card-header">
                            <h4><i class="fas fa-file-csv"></i> Download Complaint Report</h4>
                            <p>Select a filter and download complaint records in CSV format</p>
                        </div>
                        <div class="card-content">
                            <div class="form-actions" style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                <button class="btn btn-primary" onclick="downloadComplaints('today', event)">
                                    <i class="fas fa-calendar-day"></i> Download Today's Complaints
                                </button>
                                <button class="btn btn-outline" onclick="downloadComplaints('all', event)">
                                    <i class="fas fa-database"></i> Download All Complaints
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Complaint Report Filter Section -->
                <div id="complaint-report-filter" class="section">
                    <div class="page-header">
                        <h1 class="page-title">All Reports</h1>
                    </div>
                    
                    <div class="filter-section">
                        <form id="complaintReportFilterForm" class="filter-form">
                            <!-- Date Range Section -->
                            <div class="date-range-container">
                                <div class="date-input-group">
                                    <label for="reportFromDate" class="date-label">
                                        <i class="fas fa-calendar-alt"></i>
                                    </label>
                                    <input type="date" id="reportFromDate" class="date-input" placeholder="01/01/2025" required>
                                </div>
                                <div class="date-input-group">
                                    <label for="reportToDate" class="date-label">
                                        <i class="fas fa-calendar-alt"></i>
                                    </label>
                                    <input type="date" id="reportToDate" class="date-input" placeholder="01/01/2025" required>
                                </div>
                                <div id="reportFromDateError" class="error-message"></div>
                                <div id="reportToDateError" class="error-message"></div>
                            </div>

                            <!-- Report Selection Section -->
                            <div class="report-selection-container">
                                <div class="form-group">
                                    <label for="reportNameSelect" class="form-label">Select Report Name:</label>
                                    <select id="reportNameSelect" class="form-select" required>
                                        <option value="">--- Select ---</option>
                                        <option value="pending">Pending</option>
                                        <option value="ok">OK</option>
                                        <option value="registered">Registered</option>
                                        <option value="cancelled">Cancelled</option>
                                    </select>
                                    <div id="reportNameSelectError" class="error-message"></div>
                                </div>
                                
                                <button type="submit" id="downloadFilteredReportBtn" class="download-btn">
                                    <i class="fas fa-download"></i> Download Report
                                </button>
                            </div>
                        </form>
                    </div>
                </div>


                <!-- Settings Sections (Placeholder) -->
                <div id="preferences" class="section">
                    <div class="section-header">
                        <h3>Preferences</h3>
                        <p>Manage your application preferences and settings</p>
                    </div>
                    <div class="card">
                        <div class="card-content">
                            <p style="text-align: center; color: #64748b; padding: 40px;">
                                <i class="fas fa-cog" style="font-size: 48px; margin-bottom: 16px; display: block;"></i>
                                Preferences settings will be implemented here.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- User Management Section -->
                <div id="user-management" class="section">
                    <div class="section-header">
                        <h3>User Management</h3>
                        <p>Manage user accounts and permissions</p>
                    </div>

                    <!-- Centering wrapper -->
                    <div class="form-center-wrapper">
                        <div class="card">
                            <div class="card-header" style="text-align: center;">
                                <h4 style="margin: 0;">Change Password</h4>
                            </div>

                            <div class="card-content">
                                <form id="passwordChangeForm" onsubmit="return false;">
                                    <div class="form-group">
                                        <label for="username">Username</label>
                                        <input type="text" id="username" class="form-input" required />
                                    </div>

                                    <div class="form-group password-group">
                                        <label for="oldPassword">Old Password</label>
                                        <input type="password" id="oldPassword" class="form-input" required />
                                        <span class="toggle-icon" onclick="togglePassword('oldPassword', this)">
                                            <i class="fas fa-eye"></i>
                                        </span>
                                    </div>

                                    <div class="form-group password-group">
                                        <label for="newPassword">New Password</label>
                                        <input type="password" id="newPassword" class="form-input" required />
                                        <span class="toggle-icon" onclick="togglePassword('newPassword', this)">
                                            <i class="fas fa-eye"></i>
                                        </span>
                                        <small id="passwordSameError" class="error-message">âŒ New password must be
                                            different from old password.</small>

                                    </div>

                                    <div class="form-group password-group">
                                        <label for="confirmPassword">Confirm New Password</label>
                                        <input type="password" id="confirmPassword" class="form-input" required />
                                        <span class="toggle-icon" onclick="togglePassword('confirmPassword', this)">
                                            <i class="fas fa-eye"></i>
                                        </span>
                                        <small id="passwordError" class="error-message">âŒ Passwords do not
                                            match.</small>
                                        <small id="passwordSuccess" class="success-message">âœ… Passwords match.</small>
                                    </div>

                                    <button type="submit" class="submit-button" onclick="submitPasswordChange()">Change
                                        Password</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>


            </main>
        </div>
    </div>
    
    <div id="confirmModal" class="modern-modal">
        <div class="modern-modal-content">
            <div class="modal-icon warning">
                <i class="fas fa-exclamation-circle"></i>
            </div>
            <h2>Unsaved Changes</h2>
            <p>You've made changes that haven't been saved. Are you sure you want to refresh?</p>
            <div class="modal-actions">
                <button id="confirmYes" class="btn btn-danger">Yes, Refresh</button>
                <button id="confirmNo" class="btn btn-neutral">No, Keep Editing</button>
            </div>
        </div>
    </div>


    <!-- Popup Modal for Assign Engineer -->
    <!-- <div id="assignPopup" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <h3>Assign Engineer</h3>
            <label for="engineerName1">Engineer Name:</label>
            <input type="text" id="engineerName1" placeholder="Enter engineer name" />

            <label for="engineerPhone">Engineer Phone Number:</label>
            <input type="text" id="engineerPhone" placeholder="Enter phone number" />

            <div class="popup-buttons">
                <button onclick="assignEngineer()">Assign</button>
                <button onclick="closeAssignPopup()">Cancel</button>
            </div>
        </div>
    </div> -->

    <!-- Popup Modal for Assign Engineer -->
    <!-- <div id="assignPopup" class="popup-overlay" style="
    display: none; 
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; 
    height: 100%; 
    background-color: rgba(0, 0, 0, 0.5); 
    display: none; 
    justify-content: center; 
    align-items: center; 
    z-index: 1000;
">

        <div class="popup-content" style="
        background: #fff; 
        padding: 24px; 
        border-radius: 12px; 
        width: 480px; 
        max-width: 90%; 
        box-shadow: 0 8px 24px rgba(0,0,0,0.2);
        font-family: 'Segoe UI', sans-serif;
    ">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0; font-size: 20px; font-weight: 600;">Assign Engineer</h3>
                <button onclick="closeAssignPopup()" style="
                background: none;
                border: none;
                font-size: 20px;
                color: #888;
                cursor: pointer;
            " title="Close">
                    &times;
                </button>
            </div>

            <div style="margin-bottom: 16px;">
                <label for="engineerName1" style="display: block; margin-bottom: 6px; font-weight: 500;">Engineer
                    Name:</label>
                <input type="text" id="engineerName1" placeholder="Enter engineer name" style="
                width: 100%; 
                padding: 10px; 
                border: 1px solid #ccc; 
                border-radius: 8px;
                font-size: 14px;
            " />
            </div>

            < <div style="margin-bottom: 20px;">
                <label for="engineerPhone" style="display: block; margin-bottom: 6px; font-weight: 500;">Engineer Phone
                    Number:</label>
                <input type="text" id="engineerPhone" placeholder="Enter phone number" style="
                width: 100%; 
                padding: 10px; 
                border: 1px solid #ccc; 
                border-radius: 8px;
                font-size: 14px;
            " /> -->
    <!-- </div> -->

    <!-- <div class="popup-buttons" style="display: flex; justify-content: flex-end; gap: 10px;">
                <button onclick="assignEngineer()" style="
                padding: 8px 16px;
                background-color: #2563eb;
                color: white;
                border: none;
                border-radius: 6px;
                font-weight: 500;
                cursor: pointer;
            ">Assign</button>
                <button onclick="closeAssignPopup()" style="
                padding: 8px 16px;
                background-color: #e5e7eb;
                color: black;
                border: none;
                border-radius: 6px;
                cursor: pointer;
            ">Cancel</button>
            </div>
        </div>
    </div> -->
    <!-- //assign engineer model -->
    <!-- Popup Modal for Assign Engineer -->
    <div id="assignPopup" class="popup-overlay" style="
    display: none; 
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; 
    height: 100%; 
    background-color: rgba(0, 0, 0, 0.5); 
    justify-content: center; 
    align-items: center; 
    z-index: 1000;
">

        <div class="popup-content" style="
        background: #fff; 
        padding: 24px; 
        border-radius: 12px; 
        width: 480px; 
        max-width: 90%; 
        box-shadow: 0 8px 24px rgba(0,0,0,0.2);
        font-family: 'Segoe UI', sans-serif;
    ">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0; font-size: 20px; font-weight: 600;">Assign Engineer</h3>
                <button onclick="closeAssignPopup()" style="
                background: none;
                border: none;
                font-size: 20px;
                color: #888;
                cursor: pointer;
            " title="Close">
                    &times;
                </button>
            </div>

            <div style="margin-bottom: 20px;">
                <label for="engineerName1" style="display: block; margin-bottom: 6px; font-weight: 500;">Engineer
                    Name:</label>
                <select id="engineerName1" style="
                width: 100%; 
                padding: 10px; 
                border: 1px solid #ccc; 
                border-radius: 8px;
                font-size: 14px;
            ">
                    <option value="">Select Engineer</option>
                </select>
            </div>

            <div class="popup-buttons" style="display: flex; justify-content: flex-end; gap: 10px;">
                <button onclick="assignEngineer()" style="
                padding: 8px 16px;
                background-color: #2563eb;
                color: white;
                border: none;
                border-radius: 6px;
                font-weight: 500;
                cursor: pointer;
            ">Assign</button>
                <button onclick="closeAssignPopup()" style="
                padding: 8px 16px;
                background-color: #e5e7eb;
                color: black;
                border: none;
                border-radius: 6px;
                cursor: pointer;
            ">Cancel</button>
            </div>
        </div>
    </div>




    <!-- View Complaint Details Modal -->
    <div id="viewComplaintModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Complaint Details</h2>
                <button class="modal-close" onclick="closeViewModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="complaint-details-grid">
                    <!-- Basic Info -->
                    <div class="detail-section">
                        <h3>Basic Information</h3>
                        <div class="detail-row">
                            <label>Complaint ID:</label>
                            <span id="viewComplaintId">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Reported on:</label>
                            <span id="viewReportedOn">-</span>
                        </div>
                    </div>

                    <!-- Product Details -->
                    <div class="detail-section">
                        <h3>Product Information</h3>
                        <div class="detail-row">
                            <label>Product:</label>
                            <span id="viewProduct">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Product type:</label>
                            <span id="viewProductType">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Date of purchase:</label>
                            <span id="viewDateOfPurchase">-</span>
                        </div>
                    </div>

                    <!-- Complaint Details -->
                    <div class="detail-section">
                        <h3>Complaint Information</h3>
                        <div class="detail-row">
                            <label>Complaint type:</label>
                            <span id="viewComplaintType">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Issue type:</label>
                            <span id="viewIssueType">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Assigned to:</label>
                            <span id="viewAssignedTo">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Status:</label>
                            <span id="viewStatus">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Service Center:</label>
                            <span id="viewServiceCenter">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Assigned engineer:</label>
                            <span id="viewAssignedEngineer">-</span>
                        </div>
                    </div>

                    <!-- Customer Details -->
                    <div class="detail-section">
                        <h3>Customer Information</h3>
                        <div class="detail-row">
                            <label>Customer name:</label>
                            <span id="viewCustomerName">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Address:</label>
                            <span id="viewAddress">-</span>
                        </div>
                        <div class="detail-row">
                            <label>Mobile:</label>
                            <span id="viewMobile">-</span>
                        </div>
                    </div>

                    <!-- Photo Proofs -->
                    <div class="detail-section full-width">
                        <h3>Photo Proofs</h3>
                        <div class="photo-proofs">
                            <div class="photo-proof-item">
                                <label>Photo proof of installed RF Module</label>
                                <div class="photo-placeholder">No photo uploaded</div>
                            </div>
                            <div class="photo-proof-item">
                                <label>Photo proof of door thickness</label>
                                <div class="photo-placeholder">No photo uploaded</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Complaint Modal -->
    <div id="editComplaintModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>Complaint Update</h2>
                <button class="modal-close" onclick="closeEditModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="editComplaintForm">
                    <div class="edit-form-grid">
                        <!-- Complaint ID (Read-only) -->
                        <div class="form-group">
                            <label for="editComplaintIdField">Complaint ID</label>
                            <input type="text" id="editComplaintIdField" readonly>
                        </div>
                        <div class="form-group">
                            <label for="editRequestTypeField">Request Type</label>
                            <input type="text" id="editRequestTypeField" readonly>
                        </div>

                        <!-- Booking Details -->
                        <div class="form-group">
                            <label for="editBookingDate">Booking date*</label>
                            <input type="date" id="editBookingDate">
                        </div>

                        <div class="form-group">
                            <label for="editBookingSlot">Booking slot*</label>
                            <select id="editBookingSlot">
                                <option value="">Select slot</option>
                                <option value="9AM-12PM">9AM-12PM</option>
                                <option value="12PM-3PM">12PM-3PM</option>
                                <option value="3PM-6PM">3PM-6PM</option>
                                <option value="6PM-9PM">6PM-9PM</option>
                            </select>
                        </div>

                        <!-- Delivery Details -->
                        <div class="form-group">
                            <label for="editEstimatedDelivery">Estimated product delivery date*</label>
                            <input type="date" id="editEstimatedDelivery">
                        </div>

                        <div class="form-group">
                            <label for="editActualDelivery">Actual product delivered date</label>
                            <input type="date" id="editActualDelivery">
                        </div>

                        <!-- Job Details -->
                        <div class="form-group">
                            <label for="editPreJobConnect">Pre job connect with Cx</label>
                            <select id="editPreJobConnect">
                                <option value="">Select option</option>
                                <option value="--NA--">--NA--</option>
                                <option value="1 Unproductive visit">1 Unproductive visit</option>
                                <option value="2 Unproductive visits">2 Unproductive visits</option>
                                <option value="3 Unproductive visits">3 Unproductive visits</option>
                                <option value="More than 3 Unproductive visits">More than 3 Unproductive visits</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="editFinalAlignmentDate">Final date of alignment with Cx</label>
                            <input type="date" id="editFinalAlignmentDate">
                        </div>

                        <div class="form-group">
                            <label for="editFinalAlignmentTime">Final time of alignment with Cx</label>
                            <input type="time" id="editFinalAlignmentTime">
                        </div>

                        <!-- Visit and Partner Details -->
                        <div class="form-group">
                            <label for="editUnproductiveVisit">Unproductive visit if any</label>
                            <select id="editUnproductiveVisit">
                                <option value="">Select option</option>
                                <option value="--NA--">--NA--</option>
                                <option value="1 Unproductive visit">1 Unproductive visit</option>
                                <option value="2 Unproductive visits">2 Unproductive visits</option>
                                <option value="3 Unproductive visits">3 Unproductive visits</option>
                                <option value="More than 3 Unproductive visits">More than 3 Unproductive visits</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="editPartnerName">Partner name</label>
                            <input type="text" id="editPartnerName">
                        </div>

                        <!-- Status Details -->
                        <div class="form-group">
                            <label for="editJobEndDate">Job end date</label>
                            <input type="date" id="editJobEndDate">
                        </div>

                        <div class="form-group">
                            <label for="editOgmStatus">OGM Status</label>
                            <select id="editOgmStatus">
                                <option value="">Select status</option>
                                <option value="OGM not done">OGM not done</option>
                                <option value="OGM done by UC+VSAT">OGM done by UC+VSAT</option>
                                <option value="OGM done by VSAT">OGM done by VSAT</option>
                                <option value="3 Unproductive visits">3 Unproductive visits</option>
                                <option value="More then 3 Unproductive visits">More then 3 Unproductive visits</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="editJobStatus">Job status</label>
                            <select id="editJobStatus">
                                <option value="">Select status</option>
                                <option value="Assigned">Assigned</option>
                                <option value="Pending">Pending</option>
                                <option value="Completed">Completed</option>
                                <option value="Cancelled">Cancelled</option>
                            </select>
                        </div>

                        <!-- Reschedule Details -->
                        <div class="form-group">
                            <label for="editRescheduleDate">Reschedule date</label>
                            <input type="date" id="editRescheduleDate">
                        </div>

                        <div class="form-group">
                            <label for="editRescheduleReason">Reason for rescheduling</label>
                            <select id="editRescheduleReason">
                                <option value="">Select reason</option>
                                <option value="--NA--">--NA--</option>
                                <option value="Customer Request">Customer Request</option>
                                <option value="Technical Issues">Technical Issues</option>
                                <option value="Weather Conditions">Weather Conditions</option>
                                <option value="Engineer Unavailable">Engineer Unavailable</option>
                            </select>
                        </div>

                        <div class="form-group full-width">
                            <label for="editRescheduleRemark">Remark for rescheduling</label>
                            <textarea id="editRescheduleRemark" placeholder="Comments here"></textarea>
                        </div>

                        <!-- Cancellation Details -->
                        <div class="form-group">
                            <label for="editCancelReason">Reason for cancelled</label>
                            <select id="editCancelReason">
                                <option value="">Select reason</option>
                                <option value="--NA--">--NA--</option>
                                <option value="Return">Return</option>
                                <option value="Replacement">Replacement</option>
                                <option value="Cancelled before product delivery">Cancelled before product delivery
                                </option>
                                <option value="Return: Cx want installation on different address">Return: Cx want
                                    installation on different address</option>
                            </select>
                        </div>

                        <div class="form-group full-width">
                            <label for="editCancelRemark">Remark for cancelled</label>
                            <textarea id="editCancelRemark" placeholder="Comments here"></textarea>
                        </div>

                        <!-- Technical Details -->
                        <div class="form-group">
                            <label for="editRfInstallationStatus">RF module installation status</label>
                            <select id="editRfInstallationStatus">
                                <option value="">Select status</option>
                                <option value="Installed">Installed</option>
                                <option value="Not installed">Not installed</option>
                            </select>
                        </div>

                        <div class="form-group full-width">
                            <label for="editRfNotInstalledReason">Reason for RF not installed</label>
                            <textarea id="editRfNotInstalledReason" placeholder="Comments here"></textarea>
                        </div>

                        <!-- Configuration and Connectivity -->
                        <div class="form-group">
                            <label>Configuration done</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="configurationDone" value="No">
                                    <span class="radio-custom"></span>
                                    No
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="configurationDone" value="Yes">
                                    <span class="radio-custom"></span>
                                    Yes
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Wifi connected</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="wifiConnected" value="No">
                                    <span class="radio-custom"></span>
                                    No
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="wifiConnected" value="Yes">
                                    <span class="radio-custom"></span>
                                    Yes
                                </label>
                            </div>
                        </div>

                        <!-- Remarks and Ratings -->
                        <div class="form-group full-width">
                            <label for="editSmeRemark">SME remark</label>
                            <textarea id="editSmeRemark" placeholder="Comments here"></textarea>
                        </div>

                        <div class="form-group full-width">
                            <label for="editExtraMileRemark">Remark for extra mile</label>
                            <textarea id="editExtraMileRemark" placeholder="Comments here"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="editAzRating">AZ rating</label>
                            <select id="editAzRating">
                                <option value="">Select rating</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>

                        <div class="form-group full-width">
                            <label for="editOtherRemark">Other remark if any</label>
                            <textarea id="editOtherRemark" placeholder="Comments here"></textarea>
                        </div>

                        <!-- File Uploads -->
                        <div class="form-group">
                            <label for="editRfModulePhoto">Photo proof of installed RF Module</label>
                            <input type="file" id="editRfModulePhoto" accept="image/*">
                        </div>

                        <div class="form-group">
                            <label for="editDoorThicknessPhoto">Photo proof of door thickness</label>
                            <input type="file" id="editDoorThicknessPhoto" accept="image/*">
                        </div>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-primary" onclick="updateComplaint()">
                            Update complaint
                        </button>
                        <button type="button" class="btn btn-outline" onclick="closeEditModal()">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Mobile Navigation Toggle -->
    <script src="../js/Config.js"></script>
    <script src="../js/call_registration.js"></script>
    <script src="../js/service_center.js"></script>
    <script src="../js/complaint.js"></script>
    <script src="../js/manage_engineer.js"></script>
    <script src="../js/dashboard.js"></script>
    <script src="../js/complaint_report.js"></script>

</body>

</html>